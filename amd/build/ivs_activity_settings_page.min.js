function set_display_option(e,t){e=document.querySelector(e),t=document.querySelector(t);e&&t&&(e.checked?t.style.display="":t.style.display="none")}function set_display_option_timing_mode(e,t){e=document.querySelector(e),t=document.querySelector(t);e&&t&&(2!=e.value?t.style.display="none":t.style.display="")}define(["core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_factory","core/templates","core/str","core/modal_events"],function(e,t,o,n,i,_,a,r){let l="";return{init:function(o){var e=document.querySelector("#id_modstandardgrade"),e=(e&&(e.style.display="none"),document.querySelector("#id_exam_mode_enabled_value")),e=(e&&e.addEventListener("change",function(){set_display_option("#id_exam_mode_enabled_value","#id_mod_ivsgrades")}),document.querySelector("#id_annotations_enabled_value")),e=(e&&e.addEventListener("change",function(){set_display_option("#id_annotations_enabled_value","#id_mod_ivsnotification")}),set_display_option("#id_annotations_enabled_value","#id_mod_ivsnotification"),set_display_option("#id_exam_mode_enabled_value","#id_mod_ivsgrades"),set_display_option_timing_mode("#id_match_question_enabled_value","#fgroup_id_show_realtime_results"),set_display_option_timing_mode("#id_match_question_enabled_value","#fgroup_id_show_timing_take_summary"),document.querySelector("#id_match_question_enabled_value"));if(e&&e.addEventListener("change",function(){set_display_option_timing_mode("#id_match_question_enabled_value","#fgroup_id_show_realtime_results"),set_display_option_timing_mode("#id_match_question_enabled_value","#fgroup_id_show_timing_take_summary")}),o){let a=o.servername,d=o.instancename,s=o.sessiongroupid;var e="https://"+a+"/Panopto/Pages/Sessions/EmbeddedUpload.aspx?playlistsEnabled=false&instance="+d+"&folderID="+s,t=document.createElement("button"),n=(t.innerHTML=o.buttonname,t.classList.add("btn","btn-primary","panopto-selector"),t.style.marginLeft="20px",document.querySelector("#id_panopto_video"));n&&n.parentNode&&n.parentNode.insertBefore(t,n.nextSibling),i.create({type:i.types.SAVE_CANCEL,title:"Panopto videos",large:!0,body:_.render("mod_ivs/panopto_modal",{iframeurl:e})},[t]).done(function(i){i.getRoot().on(r.save,function(e){var t,o,n;e.preventDefault(),i.hide(),l.ids&&l.ids.length<=1&&(e=l.names,t=l.ids,t=JSON.stringify({servername:a,instancename:d,sessiongroupid:s,videoname:e,sessionId:t}),o=document.querySelector("#id_panopto_video_json_field"),n=document.querySelector("#id_panopto_video"),e&&1==e.length?o&&(o.value=t):(o&&(o.value="",o.setAttribute("value","")),n&&n.setAttribute("value","")),n)&&(n.value=e)})}),window.addEventListener("message",e=>{var t=JSON.parse(e.data);l=JSON.parse(e.data),"ready"===t.cmd&&document.getElementById("panopto_iframe").contentWindow.postMessage(JSON.stringify({cmd:"createEmbeddedFrame"}),"https://"+a),"deliveryList"===t.cmd&&(e=(e=document.querySelector(".modal-footer"))?e.querySelector(".btn-primary"):null)&&(1<t.ids.length?(e.setAttribute("disabled","true"),e.setAttribute("title",o.tooltip)):(e.removeAttribute("disabled"),e.removeAttribute("title")))})}}}});
//# sourceMappingURL=ivs_activity_settings_page.min.js.map